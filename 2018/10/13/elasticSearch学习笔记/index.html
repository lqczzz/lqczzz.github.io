<!DOCTYPE html>
          <head>
        <meta charset="utf-8">
            
            <title>
                elasticSearch学习笔记 | lance的编程笔记
            </title>
            <meta content="width=device-width, initial-scale=1" name="viewport">
            <meta name="theme-color" content="#4184f3">
            
            
            <link href="/favicon.ico" rel="icon"/>
            

            <link rel="stylesheet" href="/css/highlight.light.css">
            <link rel="stylesheet" href="/css/prism-customize.css">
            <link rel="stylesheet" href="/css/nav-icon.css">
            <link rel="stylesheet" href="/css/waves.min.css">
            <link rel="stylesheet" href="/css/jquery.tocify.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/nav-indicator.css">
            
  

  
            </meta>
        </meta>
    </head>

    <body>
        <header>
            <!-- cover image or sth. -->
        </header>
        <div id="main" class="m-scene">
            
<div class="nav-wrapper">

    <div class="container">
        <nav>
            <div class="logo wave">
                <a href="/" id="logo">
                    lance的编程笔记
                </a>
            </div>
            <div class="nav-toggle-icon" >
                <div class="material-hamburger">
                    <span>
                    </span>
                    <span>
                    </span>
                    <span>
                    </span>
                </div>
            </div>
            <div class="menu-wrapper">
                <div class="nav-indicator">
                </div>
                <ul class="menus">
                    
                     
                        <li>
                            <a class="wave " href="/">
                                首页
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/archives">
                                归档
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/about">
                                关于
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave no-smoothstate" href="/atom.xml">
                                订阅
                            </a>
                        </li>
                     
                    
                   
                </ul>
            </div>
        </nav>
    </div>
</div>
            <div class="container content">
                <div class="scene_element scene_element--fadein">
                    <div class="row">
    <div class="main">
        <article>
          
          <header class="post-header">
          
          </header>
          <h1 class="post-title">elasticSearch学习笔记</h1>

          <section class="post-info">
            <span class="post-date">2018/10/13</span>
            
            
          </section>

          <section class="post-content">
            <h1 id="elasticSearch&#x5165;&#x95E8;"><a href="#elasticSearch&#x5165;&#x95E8;" class="headerlink" title="elasticSearch&#x5165;&#x95E8;"></a>elasticSearch&#x5165;&#x95E8;</h1><p>&#x6700;&#x8FD1;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x9047;&#x5230;&#x4E86;&#x9700;&#x8981;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x63A8;&#x8350;&#x548C;&#x8865;&#x5168;&#xFF0C;elasticSearch&#x662F;&#x5F00;&#x6E90;&#x7684;&#x641C;&#x7D22;&#x5F15;&#x5F15;&#x64CE;&#xFF0C;&#x5165;&#x95E8;&#x4F7F;&#x7528;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#x3002;</p>
<p>&#x600E;&#x4E48;&#x5165;&#x95E8;&#xFF1A;</p>
<ol class="ui list">
<li>&#x7C7B;&#x6BD4;&#x5165;&#x95E8;&#xFF1A;&#x7C7B;&#x6BD4;&#x4E00;&#x4E2A;&#x719F;&#x6089;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x77E5;&#x8BC6;&#x8FC1;&#x79FB;&#x4F1A;&#x66F4;&#x5BB9;&#x6613;</li>
<li>&#x7B80;&#x5355;&#x7684;&#x4E8B;&#x4F8B;&#x5165;&#x95E8;&#xFF1A;&#x52A8;&#x624B;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;demo&#x611F;&#x53D7;&#x4E00;&#x4E0B;&#x6D41;&#x7A0B;</li>
</ol>
<h2 id="&#x5165;&#x95E8;"><a href="#&#x5165;&#x95E8;" class="headerlink" title="&#x5165;&#x95E8;"></a>&#x5165;&#x95E8;</h2><h3 id="1-&#x5B89;&#x88C5;es"><a href="#1-&#x5B89;&#x88C5;es" class="headerlink" title="1.&#x5B89;&#x88C5;es"></a>1.&#x5B89;&#x88C5;es</h3><p>&#x524D;&#x7F6E;&#x6761;&#x4EF6;&#xFF1A;mac&#x73AF;&#x5883;(&#x5176;&#x4ED6;&#x73AF;&#x5883;&#x81EA;&#x884C;google)&#xFF0C;brew&#x5DE5;&#x5177;&#x5B89;&#x88C5;&#x597D;&#x4E86;&#xFF0C;java&#x73AF;&#x5883;&#x5B89;&#x88C5;&#x597D;&#x4E86;</p>
<p>&#x6B65;&#x9AA4;&#xFF1A;</p>
<ol class="ui list">
<li>&#x5B89;&#x88C5;es&#xFF1A;<ul>
<li>brew install elasticsearch</li>
<li>es&#x670D;&#x52A1;&#x7AEF;&#x4F1A;&#x88AB;&#x5B89;&#x88C5;</li>
</ul>
</li>
<li>&#x5B89;&#x88C5;kibana&#xFF1A;<ul>
<li>brew install kibana</li>
<li>kibana&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x56FE;&#x5F62;&#x5316;&#x7684;es&#x5BA2;&#x6237;&#x7AEF;</li>
</ul>
</li>
<li>&#x542F;&#x52A8;es&#xFF1A;brew services start elasticsearch</li>
<li>&#x542F;&#x52A8;kibana&#xFF1A;brew services start kibana</li>
</ol>
<p>&#x5B89;&#x88C5;es&#x6210;&#x529F;&#x4E4B;&#x540E;&#x8BBF;&#x95EE;<code>http://localhost:9200/</code>&#x53EF;&#x4EE5;&#x83B7;&#x5F97;es&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;<br>&#x5B89;&#x88C5;kibana&#x6210;&#x529F;&#x4E4B;&#x540E;&#x8BBF;&#x95EE;<code>http://localhost:5601/app/kibana#/dev_tools/console?_g=()</code>&#x53EF;&#x4EE5;&#x5BF9;es&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</p>
<h3 id="2-&#x81EA;&#x52A8;&#x8865;&#x5168;"><a href="#2-&#x81EA;&#x52A8;&#x8865;&#x5168;" class="headerlink" title="2.&#x81EA;&#x52A8;&#x8865;&#x5168;"></a>2.&#x81EA;&#x52A8;&#x8865;&#x5168;</h3><pre><code>// hashtag
{
    id,
    name,
    score, // weight
}
</code></pre><h4 id="mappings-amp-analysizer"><a href="#mappings-amp-analysizer" class="headerlink" title="mappings &amp; analysizer"></a>mappings &amp; analysizer</h4><pre><code>PUT feed_id
{
    &quot;mappings&quot;: {
        &quot;hashtag&quot;: {
            &quot;properties&quot;: {
                &quot;name&quot;: {
                    &quot;type&quot;: &quot;completion&quot; 
                }
            }
        }
    }
}
</code></pre><h4 id="&#x6DFB;&#x52A0;&#x6570;&#x636E;"><a href="#&#x6DFB;&#x52A0;&#x6570;&#x636E;" class="headerlink" title="&#x6DFB;&#x52A0;&#x6570;&#x636E;"></a>&#x6DFB;&#x52A0;&#x6570;&#x636E;</h4><pre><code>POST feed_id/hashtag
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;hashtag name&quot;],
        &quot;weight&quot;: 2
    }
}
POST feed_id/hashtag/3
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;hashtag name2&quot;],
        &quot;weight&quot;: 3
    }
}
POST feed_id/hashtag/4
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;ashtag name2&quot;],
        &quot;weight&quot;: 4
    }
}
POST feed_id/hashtag/5
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;shtag name2&quot;],
        &quot;weight&quot;: 5
    }
}
POST feed_id/hashtag/6
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;htag name2&quot;],
        &quot;weight&quot;: 6
    }
}
POST feed_id/hashtag/7
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;&#x7231;&#x6211;&#x4E2D;&#x534E;&quot;],
        &quot;weight&quot;: 6
    }
}
POST feed_id/hashtag/8
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;&#x7231;&#x4F60;&#x4E2D;&#x534E;&quot;],
        &quot;weight&quot;: 6
    }
}
POST feed_id/hashtag/9
{
    &quot;name&quot;: {
        &quot;input&quot;: [&quot;&#x7231;&#x4F60;&quot;],
        &quot;weight&quot;: 6
    }
}
</code></pre><h4 id="&#x67E5;&#x8BE2;&#x6570;&#x636E;"><a href="#&#x67E5;&#x8BE2;&#x6570;&#x636E;" class="headerlink" title="&#x67E5;&#x8BE2;&#x6570;&#x636E;"></a>&#x67E5;&#x8BE2;&#x6570;&#x636E;</h4><pre><code>POST feed_id/_search?pretty
{
    &quot;suggest&quot;: {
        &quot;hashtag-suggest&quot;: {
            &quot;prefix&quot;: &quot;h&quot;,
            &quot;completion&quot;: {
                &quot;field&quot;: &quot;name&quot;
            }
        }
    }
}
</code></pre><h2 id="&#x57FA;&#x672C;&#x6982;&#x5FF5;"><a href="#&#x57FA;&#x672C;&#x6982;&#x5FF5;" class="headerlink" title="&#x57FA;&#x672C;&#x6982;&#x5FF5;"></a>&#x57FA;&#x672C;&#x6982;&#x5FF5;</h2><p>&#x6458;&#x6284;&#x81EA;<a href="ttps://github.com/looly/elasticsearch-definitive-guide-cn" target="_blank" rel="noopener">elasticsearch-definitive-guide-cn</a></p>
<h2 id="&#x53C2;&#x8003;&#xFF1A;"><a href="#&#x53C2;&#x8003;&#xFF1A;" class="headerlink" title="&#x53C2;&#x8003;&#xFF1A;"></a>&#x53C2;&#x8003;&#xFF1A;</h2>
          </section>
        </article>
        

       
        <div class="pager">
          
            <a class="post-prev pager-item" href="/2018/10/16/一次goroutine内存泄漏问题定位/" >
              <strong class="article-nav-caption">上一篇</strong>
              <p class="post-nav-title">一次goroutine内存泄漏问题定位</p>
            </a>
          
          
            <a class="post-next pager-item" href="/2018/10/13/golang并发/">
              <strong class="article-nav-caption">下一篇</strong>
              <p class="post-nav-title">golang并发学习笔记</p>
            </a>
          
        </div>
        

         <!-- comments -->
        <div class="comment-section">
  
    

    <!-- 多说评论框 start -->
      <div class="ds-thread" data-thread-key="_posts/elasticSearch学习笔记.md" data-title="elasticSearch学习笔记" data-url="http://lqczzz.github.io/2018/10/13/elasticSearch学习笔记/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
      <script type="text/javascript">
      var duoshuoQuery = {short_name:"wayouliu"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->

  


</div>

    </div>
    
</div>

                </div>
            </div>
        </div>
        <footer class="footer">
    <p>由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动，搭载<a href="https://github.com/wayou/hexo-theme-gstyle">gstyle</a>主题</p>
    <p>
        &copy; 2020 lqczzz
    </p>
</footer>
<script src="/lib/jquery.js"></script>
<script src="/lib/waves.js"></script>
<script src="/lib/jquery-ui.js"></script>
<script src="/lib/jquery.tocify.js"></script>
<script src="/js/main.js"></script>

    </body>
</html>
